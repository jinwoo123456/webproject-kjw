<%@ page import="com.example.model.DBConnPool" %> <%@ page language="java"
contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>DB Connection Test</title>
  </head>
  <body>
    <h2>데이터베이스 연결 테스트</h2>
    <% // DBConnPool 객체를 선언합니다. DBConnPool dbPool = null; try { //
    DBConnPool 객체를 초기화합니다. dbPool = new DBConnPool(); // 데이터베이스
    연결이 유효한지 확인합니다. if (dbPool.con != null &&
    !dbPool.con.isClosed()) { // 연결이 성공적이면 메시지를 출력합니다.
    out.println("
    <p>데이터베이스에 성공적으로 연결되었습니다.</p>
    "); } else { // 연결이 실패하면 메시지를 출력합니다. out.println("
    <p>데이터베이스 연결에 실패했습니다.</p>
    "); } } catch (Exception e) { // 예외가 발생하면 스택 트레이스를 출력합니다.
    StringWriter sw = new StringWriter(); PrintWriter pw = new PrintWriter(sw);
    e.printStackTrace(pw); out.println("
    <pre>" + sw.toString() + "</pre>
    "); // 예외 메시지를 출력합니다. out.println("
    <p>데이터베이스 연결 중 오류 발생: " + e.getMessage() + "</p>
    "); } finally { // DBConnPool 객체가 null이 아니면 연결을 닫습니다. if
    (dbPool != null) { dbPool.close(); } } %>
  </body>
</html>
